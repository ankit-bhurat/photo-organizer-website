---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';

const faqs = [
  {
    question: 'What is CullVue?',
    answer: `CullVue is a desktop application for managing and browsing your photo library. It runs entirely on your local machine, meaning your images are never uploaded to the cloud. The app indexes your existing photo folders, provides a fast browsing experience, and includes AI-powered semantic search so you can find images by describing what's in them.`,
  },
  {
    question: 'How does the AI search work?',
    answer: `When you add a watch folder, CullVue runs a lightweight vision model on each image to generate a compact numerical representation called an embedding. These embeddings capture the visual content of the photo, such as objects, scenes, colors, and composition. When you type a search query, the app converts your text into the same embedding space and finds the photos whose embeddings are most similar. Everything runs locally on your CPU or GPU â€” no internet connection is required.`,
  },
  {
    question: 'Is my data sent to the cloud?',
    answer: `No. CullVue is a local-first application. Your photos, metadata, tags, albums, and AI embeddings are all stored on your device. The app does not require an internet connection to function, and no data is ever transmitted to external servers. The only network request the app makes is an optional check for software updates, which you can disable in Settings.`,
  },
  {
    question: 'What image formats are supported?',
    answer: `CullVue supports all major image formats including JPEG, PNG, WebP, TIFF, HEIF/HEIC, and AVIF. It also handles common RAW formats from major camera manufacturers, including CR2, CR3 (Canon), NEF (Nikon), ARW (Sony), RAF (Fujifilm), ORF (Olympus), and DNG. Video files are recognized in the library but are not indexed for AI search at this time.`,
  },
  {
    question: 'How much does it cost?',
    answer: `CullVue is free to download and use for personal libraries of up to 10,000 photos. For larger libraries and advanced features such as smart albums, batch operations, and priority support, a one-time license is available. Check the pricing page for current details. There are no subscriptions and no recurring fees.`,
  },
  {
    question: 'What are the system requirements?',
    answer: `CullVue runs on macOS 12 or later, Windows 10 or later, and most modern Linux distributions (Ubuntu 22.04+, Fedora 38+). You will need at least 4 GB of RAM and around 500 MB of disk space for the application itself. The AI search model requires approximately 1 GB of additional disk space. A dedicated GPU is not required but will significantly speed up the initial embedding generation.`,
  },
  {
    question: 'Can I use it on multiple devices?',
    answer: `Yes. Your license allows installation on up to three devices you personally own. Since CullVue is local-first, each installation maintains its own library database. If your photos are stored on a shared network drive or a synced folder (such as Dropbox or iCloud Drive), each device will independently index the same files. Tags and albums are stored locally per device, but an import/export feature is available to transfer your organizational data between installations.`,
  },
  {
    question: 'How do I get support?',
    answer: `You can reach us through the contact page on our website, or by emailing support@cullvue.com. We also maintain a community forum and a GitHub repository where you can report bugs and request features. Paid license holders receive priority email support with a guaranteed response within one business day.`,
  },
];
---

<Layout title="FAQ - CullVue Docs">
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": faqs.map(faq => ({
      "@type": "Question",
      "name": faq.question,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": faq.answer
      }
    }))
  })} />
  <Navbar />

  <main class="section-spacing">
    <div class="container-narrow">

      <!-- Breadcrumb -->
      <nav class="mb-10" aria-label="Breadcrumb">
        <ol class="flex items-center gap-2 text-sm text-surface-500">
          <li>
            <a href="/docs" class="hover:text-white transition-colors duration-200">Docs</a>
          </li>
          <li aria-hidden="true">
            <svg class="w-4 h-4 text-surface-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
              <path d="M9 18l6-6-6-6" />
            </svg>
          </li>
          <li class="text-surface-300 font-medium">FAQ</li>
        </ol>
      </nav>

      <!-- Header -->
      <header class="mb-14 max-w-2xl">
        <h1 class="text-3xl md:text-4xl font-bold tracking-tight">
          Frequently Asked Questions
        </h1>
        <p class="mt-3 text-lg text-surface-400 leading-relaxed">
          Answers to the most common questions about CullVue.
          If your question isn't covered here, feel free to
          <a href="/contact" class="text-brand-400 hover:text-brand-300 underline underline-offset-2 decoration-brand-400/30 hover:decoration-brand-300/50 transition-colors duration-200">get in touch</a>.
        </p>
      </header>

      <!-- FAQ Accordion -->
      <div class="space-y-3">
        {faqs.map((faq, index) => (
          <details class="faq-item group" open={index === 0}>
            <summary class="faq-summary">
              <div class="flex items-center gap-3 flex-1 min-w-0">
                <span class="faq-number">{index + 1}</span>
                <span class="text-[15px] font-medium text-surface-200 group-hover:text-white transition-colors duration-200">
                  {faq.question}
                </span>
              </div>
              <svg
                class="faq-chevron shrink-0 w-5 h-5 text-surface-600 group-hover:text-surface-400 transition-all duration-200"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M6 9l6 6 6-6" />
              </svg>
            </summary>
            <div class="faq-body">
              <p class="text-[15px] leading-[1.75] text-surface-400">
                {faq.answer}
              </p>
            </div>
          </details>
        ))}
      </div>

      <!-- Contact callout -->
      <div class="mt-16 card p-8 text-center">
        <div class="w-12 h-12 mx-auto mb-4 rounded-xl bg-brand-500/10 border border-brand-500/20
                    flex items-center justify-center text-brand-400">
          <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
          </svg>
        </div>
        <h3 class="text-lg font-semibold text-white">Still have questions?</h3>
        <p class="mt-2 text-sm text-surface-400 max-w-md mx-auto leading-relaxed">
          We are happy to help. Reach out and we will get back to you as soon as possible.
        </p>
        <a href="/contact" class="btn-primary text-sm px-6 py-2.5 mt-5 inline-flex">
          Contact Support
        </a>
      </div>

      <!-- Back link -->
      <div class="mt-10 text-center">
        <a
          href="/docs"
          class="inline-flex items-center gap-2 text-sm text-surface-500 hover:text-white transition-colors duration-200"
        >
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 12H5" />
            <path d="M12 19l-7-7 7-7" />
          </svg>
          Back to Docs
        </a>
      </div>
    </div>
  </main>

  <Footer />
</Layout>

<style>
  /* FAQ item container */
  .faq-item {
    @apply rounded-2xl border border-surface-800/60 bg-surface-900/50
           backdrop-blur-sm overflow-hidden
           transition-colors duration-200;
  }

  .faq-item:hover {
    @apply border-surface-700/80 bg-surface-900/70;
  }

  .faq-item[open] {
    @apply border-surface-700/60 bg-surface-900/60;
  }

  /* Summary (question row) */
  .faq-summary {
    @apply flex items-center justify-between gap-4
           px-6 py-5 cursor-pointer select-none
           list-none;
  }

  .faq-summary::-webkit-details-marker {
    display: none;
  }

  .faq-summary::marker {
    display: none;
    content: '';
  }

  /* Numbered badge */
  .faq-number {
    @apply shrink-0 w-7 h-7 rounded-lg
           bg-surface-800/80 border border-surface-700/60
           flex items-center justify-center
           text-xs font-medium text-surface-500;
  }

  .faq-item[open] .faq-number {
    @apply bg-brand-500/10 border-brand-500/25 text-brand-400;
  }

  /* Chevron rotation */
  .faq-chevron {
    transition: transform 0.2s ease;
  }

  .faq-item[open] .faq-chevron {
    transform: rotate(180deg);
  }

  /* Answer body */
  .faq-body {
    @apply px-6 pb-6 pl-[4.25rem];
  }

  /* ---- Light mode overrides ---- */
  :global([data-theme="light"]) .faq-item {
    background-color: #ffffff;
    border-color: #d5d8e2;
  }

  :global([data-theme="light"]) .faq-item:hover {
    background-color: #f8f9fc;
    border-color: #c0c4d0;
  }

  :global([data-theme="light"]) .faq-item[open] {
    background-color: #fafbfd;
    border-color: #c4c8d4;
  }

  :global([data-theme="light"]) .faq-summary .text-surface-200 {
    color: #1a1b2e;
  }

  :global([data-theme="light"]) .faq-summary:hover .text-surface-200 {
    color: #0f1020;
  }

  :global([data-theme="light"]) .faq-body .text-surface-400 {
    color: #3b3c4f;
  }

  :global([data-theme="light"]) .faq-number {
    background-color: #eef0f5;
    border-color: #d5d8e2;
    color: #535572;
  }

  :global([data-theme="light"]) .faq-item[open] .faq-number {
    background-color: rgba(30, 111, 245, 0.08);
    border-color: rgba(30, 111, 245, 0.2);
    color: #1e6ff5;
  }

  :global([data-theme="light"]) .faq-chevron {
    color: #878aa5;
  }

  :global([data-theme="light"]) .faq-item:hover .faq-chevron {
    color: #535572;
  }
</style>
